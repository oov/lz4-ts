!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LZ4=t():r.LZ4=t()}(this,function(){return function(r){function t(f){if(o[f])return o[f].exports;var e=o[f]={i:f,l:!1,exports:{}};return r[f].call(e.exports,e,e.exports,t),e.l=!0,e.exports}var o={};return t.m=r,t.c=o,t.d=function(r,o,f){t.o(r,o)||Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:f})},t.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(o,"a",o),o},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s=0)}([function(r,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(r){for(var o in r)t.hasOwnProperty(o)||(t[o]=r[o])}(o(1))},function(r,t,o){"use strict";function f(r,t){var o=r>>>16&65535,f=65535&r,e=t>>>16&65535,i=65535&t;return f*i+(o*i+f*e<<16>>>0)|0}function e(r,t){return r[t+3]|r[t+2]<<8|r[t+1]<<16|r[t]<<24}function i(r,t,o,f,e){for(var i=0;i<e;++i)r[o++]=t[f++]}function n(r){var t=r.length;if(0===t)return 0;for(var o=0,f=0;;){var e=r[o]>>4,i=15&r[o];if(++o===t)throw w;if(e>0){if(15===e){for(;255===r[o];)if(e+=255,++o===t)throw w;if(e+=r[o],++o===t)throw w}if(f+=e,(o+=e)>=t)return f}if((o+=2)>=t)throw w;var n=r[o-2]|r[o-1]<<8;if(f-n<0||0===n)throw w;if(15===i){for(;255===r[o];)if(i+=255,++o===t)throw w;if(i+=r[o],++o===t)throw w}for(i+=4;i>=n;i-=n)f+=n;f+=i}}function u(r,t){var o=r.length,f=t.length;if(0===o)return 0;for(var e=0,n=0;;){var u=r[e]>>4,a=15&r[e];if(++e===o)throw w;if(u>0){if(15===u){for(;255===r[e];)if(u+=255,++e===o)throw w;if(u+=r[e],++e===o)throw w}if(f-n<u||e+u>o)throw l;if(i(t,r,n,e,u),n+=u,(e+=u)>=o)return n}if((e+=2)>=o)throw w;var h=r[e-2]|r[e-1]<<8;if(n-h<0||0===h)throw w;if(15===a){for(;255===r[e];)if(a+=255,++e===o)throw w;if(a+=r[e],++e===o)throw w}if(a+=4,f-n<=a)throw l;for(;a>=h;a-=h)i(t,t,n,n-h,h),n+=h;i(t,t,n,n-h,a),n+=a}}function a(r){return r+(r/255|0)+16}function h(r,t,o){var f=r.length-m,n=t.length;if(f<=0||0===n||o>=f)return 0;for(var u=0,a=0,h=new Uint32Array(g);u<o;){var c=j(e(r,u),x)>>>y;h[c]=++u}for(var w=u,p=1<<b;u<f-v;){var c=j(e(r,u),x)>>>y,d=h[c]-1;if(h[c]=u+1,d<0||u-d>>s>0||r[d]!==r[u]||r[d+1]!==r[u+1]||r[d+2]!==r[u+2]||r[d+3]!==r[u+3])u+=p>>b,++p;else{p=1<<b;var O=u-w,_=u-d;u+=v;for(var k=u;u<=f&&r[u]===r[u-_];)u++;if(k=u-k,t[a]=k<15?k:15,O<15)t[a]|=O<<4;else{if(t[a]|=240,++a===n)throw l;for(var B=O-15;B>=255;B-=255)if(t[a]=255,++a===n)throw l;t[a]=255&B}if(++a===n)throw l;if(a+O>=n)throw l;if(i(t,r,a,w,O),a+=O,w=u,(a+=2)>=n)throw l;if(t[a-2]=_,t[a-1]=_>>8,k>=15){for(k-=15;k>=255;k-=255)if(t[a]=255,++a===n)throw l;if(t[a]=k,++a===n)throw l}}}if(0===w)return 0;var M=r.length-w;if(M<15)t[a]=M<<4;else{if(t[a]=240,++a===n)throw l;for(M-=15;M>=255;M-=255)if(t[a]=255,++a===n)throw l;t[a]=M}if(++a===n)throw l;var P=r.length-w,U=a+P;if(U>n)throw l;return U>=f?0:(i(t,r,a,w,P),a+=P)}function c(r,t,o){var f=r.length-m,n=t.length;if(f<=0||0===n||o>=f)return 0;for(var u=0,a=0,h=new Uint32Array(g),c=new Uint32Array(p);u<o;){var w=j(e(r,u),x)>>>y;c[u&d]=h[w],h[w]=++u}for(var s=u;u<f-v;){for(var w=j(e(r,u),x)>>>y,b=0,O=0,_=h[w]-1;_>0&&_>u-p;_=c[_&d]-1)if(r[_+b]===r[u+b])for(var k=0;;++k)if(r[_+k]!==r[u+k]||u+k>f){b<k&&k>=v&&(b=k,O=u-_);break}if(c[u&d]=h[w],h[w]=u+1,0!==b){for(var B=u+1,k=u+b;B<k;){var M=j(e(r,B),x)>>>y;c[B&d]=h[M],h[M]=++B}var P=u-s;if(u+=b,b-=v,t[a]=b<15?b:15,P<15)t[a]|=P<<4;else{if(t[a]|=240,++a===n)throw l;for(var U=P-15;U>=255;U-=255)if(t[a]=255,++a===n)throw l;t[a]=255&U}if(++a===n)throw l;if(a+P>=n)throw l;if(i(t,r,a,s,P),a+=P,s=u,(a+=2)>=n)throw l;if(t[a-2]=O,t[a-1]=O>>8,b>=15){for(b-=15;b>=255;b-=255)if(t[a]=255,++a===n)throw l;if(t[a]=b,++a===n)throw l}}else++u}if(0===s)return 0;var A=r.length-s;if(A<15)t[a]=A<<4;else{if(t[a]=240,++a===n)throw l;for(A-=15;A>=255;A-=255)if(t[a]=255,++a===n)throw l;t[a]=A}if(++a===n)throw l;var L=r.length-s,E=a+L;if(E>n)throw l;return E>=f?0:(i(t,r,a,s,L),a+=L)}
// lz4-ts @license BSD-3-Clause / Copyright (c) 2015, Pierre Curto / 2016, oov. All rights reserved.
Object.defineProperty(t,"__esModule",{value:!0});var w=new Error("invalid source"),l=new Error("short buffer"),v=4,s=16,p=1<<s,d=p-1,g=65536,y=8*v-16,m=8+v,b=6,x=-1640531535,j=Math.imul?Math.imul:f;t.calcUncompressedLen=n,t.uncompressBlock=u,t.compressBlockBound=a,t.compressBlock=h,t.compressBlockHC=c}])});